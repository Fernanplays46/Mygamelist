{% extends "base.html" %}

{% block content %}
<h1>Panel de administraci√≥n</h1>

<!-- Formulario para crear un nuevo juego -->
<form method="post" action="/admin/crear" class="form-container">
  <input type="text" name="titulo" placeholder="T√≠tulo" required>
  <input type="text" name="plataforma" placeholder="Plataforma" required>
  <input type="text" name="genero" placeholder="G√©nero" required>
  <input type="number" name="fecha" placeholder="A√±o" required>
  <input type="text" name="descripcion" placeholder="Descripci√≥n">
  <input type="number" name="puntuacion" placeholder="Puntuaci√≥n (0-10)">
  <input type="text" name="portada_url" placeholder="URL de portada (opcional)">
  <button type="submit">‚ûï A√±adir juego</button>
</form>

<hr>

<!-- Lista de juegos existentes -->
<h2>Lista de juegos</h2>
<table class="admin-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>T√≠tulo</th>
      <th>Plataforma</th>
      <th>G√©nero</th>
      <th>A√±o</th>
      <th>Puntuaci√≥n</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for juego in juegos %}
    <tr>
      <td>{{ juego.id }}</td>
      <td>{{ juego.titulo }}</td>
      <td>{{ juego.plataforma }}</td>
      <td>{{ juego.genero }}</td>
      <td>{{ juego.fecha }}</td>
      <td>{{ juego.puntuacion }}</td>
      <td>
        <form method="post" action="/admin/borrar" style="display:inline;">
          <input type="hidden" name="juego_id" value="{{ juego.id }}">
          <button type="submit" class="delete-btn" onclick="return confirm('¬øEliminar este juego?')">üóëÔ∏è Borrar</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% if not juegos %}
  <p>No hay juegos registrados.</p>
{% endif %}
{% endblock %}
